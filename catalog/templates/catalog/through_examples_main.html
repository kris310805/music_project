<!DOCTYPE html>
<html>
<head>
    <title>ManyToMany through –ø—Ä–∏–º–µ—Ä—ã</title>
</head>
<body>
    <h1>üîó ManyToManyField —Å through</h1>
    
    <div style="border: 1px solid #ccc; padding: 20px; margin: 15px 0;">
        <h2>–ß—Ç–æ —Ç–∞–∫–æ–µ through –º–æ–¥–µ–ª—å?</h2>
        <p>Through –º–æ–¥–µ–ª—å –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –≤ —Å–≤—è–∑—å ManyToMany.</p>
        
        <h3>üìù –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:</h3>
        <pre>
class TrackFeature(models.Model):
    playlist = models.ForeignKey('Playlist', on_delete=models.CASCADE)
    track = models.ForeignKey('Track', on_delete=models.CASCADE)
    added_by = models.ForeignKey(User, on_delete=models.CASCADE)
    added_at = models.DateTimeField(auto_now_add=True)
    position = models.IntegerField()
    note = models.TextField(blank=True)

class Playlist(models.Model):
    tracks = models.ManyToManyField(
        Track, 
        through='TrackFeature',
        through_fields=('playlist', 'track')
    )
        </pre>
        
        <h3>üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</h3>
        <ul>
            <li>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –≤ —Å–≤—è–∑–∏ (–ø–æ–∑–∏—Ü–∏—è, –∑–∞–º–µ—Ç–∫–∏, –≤—Ä–µ–º—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è)</li>
            <li>–ë–æ–ª–µ–µ –≥–∏–±–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö</li>
            <li>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª—è—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –≤ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—É—é –º–æ–¥–µ–ª—å</li>
        </ul>
        
        <a href="{% url 'playlists-with-features' %}" style="background: #007bff; color: white; padding: 10px 15px; text-decoration: none; border-radius: 4px;">
            üéµ –ü–µ—Ä–µ–π—Ç–∏ –∫ –ø—Ä–∏–º–µ—Ä–∞–º –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤
        </a>
    </div>
    
    <hr>
    <p><a href="/catalog/">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</a></p>
</body>
</html>